/*! For license information please see webgl.54693ca3fa9a65f4ba78.js.LICENSE.txt */
"use strict";(self.webpackChunkportfolio_v8=self.webpackChunkportfolio_v8||[]).push([[254],{175:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function s(n,r,i,a){var s=r&&r.prototype instanceof l?r:l,u=Object.create(s.prototype);return o(u,"_invoke",function(n,r,i){var o,a,s,l=0,u=i||[],h=!1,f={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(e,n){return o=e,a=0,s=t,f.n=n,c}};function v(n,r){for(a=n,s=r,e=0;!h&&l&&!i&&e<u.length;e++){var i,o=u[e],v=f.p,d=o[2];n>3?(i=d===r)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=t):o[0]<=v&&((i=n<2&&v<o[1])?(a=0,f.v=r,f.n=o[1]):v<d&&(i=n<3||o[0]>r||r>d)&&(o[4]=n,o[5]=r,f.n=d,a=0))}if(i||n>1)return c;throw h=!0,r}return function(i,u,d){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&v(u,d),a=u,s=d;(e=a<2?t:s)||!h;){o||(a?a<3?(a>1&&(f.n=-1),v(a,s)):f.n=s:f.v=s);try{if(l=2,o){if(a||(i="next"),e=o[i]){if(!(e=e.call(o,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,a<2&&(a=0)}else 1===a&&(e=o.return)&&e.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=t}else if((e=(h=f.n<0)?s:n.call(r,f))!==c)break}catch(e){o=t,a=1,s=e}finally{l=1}}return{value:e,done:h}}}(n,i,a),!0),u}var c={};function l(){}function u(){}function h(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(o(e={},r,function(){return this}),e),v=h.prototype=l.prototype=Object.create(f);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,o(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t}return u.prototype=h,o(v,"constructor",h),o(h,"constructor",u),u.displayName="GeneratorFunction",o(h,a,"GeneratorFunction"),o(v),o(v,a,"Generator"),o(v,r,function(){return this}),o(v,"toString",function(){return"[object Generator]"}),(i=function(){return{w:s,m:d}})()}function o(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}o=function(t,e,n,r){function a(e,n){o(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(a("next",0),a("throw",1),a("return",2))},o(t,e,n,r)}function a(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function c(t){var e=function(t){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}n.d(e,{x:()=>l});var l=function(){return t=function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("Canvas element not provided.");this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.imageUrl=n,this.image=null,this.isInitialized=!1,this.glitchIntensity=0,this.animationFrameId=null},e=[{key:"init",value:(n=i().m(function t(){var e,n=this;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,this.loadImage(this.imageUrl);case 1:this.image=t.v,this.isInitialized=!0,this.draw(),this.canvas.addEventListener("click",function(){return n.glitch()}),t.n=3;break;case 2:t.p=2,e=t.v,console.error("Failed to initialize GlitchImage:",e);case 3:return t.a(2)}},t,this,[[0,2]])}),r=function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function s(t){a(o,r,i,s,c,"next",t)}function c(t){a(o,r,i,s,c,"throw",t)}s(void 0)})},function(){return r.apply(this,arguments)})},{key:"loadImage",value:function(t){return new Promise(function(e,n){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){return e(r)},r.onerror=function(t){return n(t)},r.src=t})}},{key:"draw",value:function(){if(this.isInitialized){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);var t=this.canvas.width/this.canvas.height,e=this.image.naturalWidth/this.image.naturalHeight,n=0,r=0,i=this.image.naturalWidth,o=this.image.naturalHeight;e>t?(i=(o=this.image.naturalHeight)*t,n=(this.image.naturalWidth-i)/2):(o=(i=this.image.naturalWidth)/t,r=(this.image.naturalHeight-o)/2),this.ctx.drawImage(this.image,n,r,i,o,0,0,this.canvas.width,this.canvas.height),this.glitchIntensity>0&&this.applyGlitch()}}},{key:"glitch",value:function(){var t=this;this.isInitialized&&!this.glitchTween&&(this.glitchTween=gsap.to(this,{glitchIntensity:1,duration:.1,repeat:3,yoyo:!0,ease:"power2.inOut",onUpdate:function(){return t.draw()},onComplete:function(){t.glitchIntensity=0,t.draw(),t.glitchTween=null}}))}},{key:"applyGlitch",value:function(){for(var t=this.canvas.width,e=this.canvas.height,n=(this.ctx.getImageData(0,0,t,e),0);n<5;n++){var r=Math.random()*t,i=Math.random()*e,o=t-r,a=10*Math.random()+5;if(!(i+a>e)){var s=this.ctx.getImageData(r,i,o,a);this.ctx.putImageData(s,Math.random()*r,i)}}var c=10*Math.random()*this.glitchIntensity;this.ctx.globalCompositeOperation="lighter",this.ctx.drawImage(this.canvas,c,0),this.ctx.globalCompositeOperation="source-over"}}],e&&s(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}()},405:(t,e,n)=>{n.r(e),n.d(e,{WebGLManager:()=>p});var r=n(922),i=n(437),o=n(439),a=n(804),s=n(185),c=n(731),l=n(709),u={uniforms:{tDiffuse:{value:null},progress:{value:0},time:{value:0},rollSpeed:{value:2.5}},vertexShader:"varying vec2 vUv; void main() { vUv = uv; gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0); }",fragmentShader:"\n        uniform sampler2D tDiffuse; uniform float progress; uniform float time; uniform float rollSpeed; varying vec2 vUv;\n        float rand(vec2 co){ return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453); }\n        void main() {\n            float roll_pos = fract(time * rollSpeed); float roll_height = 0.15; vec2 uv = vUv; vec4 final_color = texture2D(tDiffuse, uv);\n            if (progress > 0.0) {\n                float noise = rand(uv + time) * 0.4;\n                if (uv.y > roll_pos && uv.y < roll_pos + roll_height) { uv.x += (rand(vec2(time, uv.y)) - 0.5) * 0.1 * progress; noise = 0.8 + rand(uv + time) * 0.5; }\n                float r = texture2D(tDiffuse, uv + vec2(0.01, 0.0) * progress).r; float b = texture2D(tDiffuse, uv - vec2(0.01, 0.0) * progress).b;\n                final_color.r = r; final_color.b = b; final_color.rgb += noise * progress;\n            }\n            gl_FragColor = final_color;\n        }"},h=n(529);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function d(t){var e=function(t){if("object"!=f(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==f(e)?e:e+""}var p=function(){return t=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.isActive=!1,this.loadingManager=new r.KPJ,this.renderer=new i.WebGLRenderer({canvas:this.canvas,antialias:!1,alpha:!0,powerPreference:"high-performance"}),this.contextLost=!1,this._onContextLost=function(t){t.preventDefault(),console.warn("WebGL context lost on canvas"),n.contextLost=!0,n.stop()},this._onContextRestored=function(t){console.info("WebGL context restored on canvas");try{if(n.renderer&&n.renderer.forceContextLoss)try{n.renderer.forceContextLoss()}catch(t){}}catch(t){}n.renderer=new i.WebGLRenderer({canvas:n.canvas,antialias:!1,alpha:!0,powerPreference:"high-performance"}),n.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),n.renderer.setSize(window.innerWidth,window.innerHeight),n.composer=new o.s(n.renderer),n.composer.addPass(new a.A(n.scene,n.camera)),n.contextLost=!1,n.isActive&&n.start()},this.canvas&&this.canvas.addEventListener&&(this.canvas.addEventListener("webglcontextlost",this._onContextLost,!1),this.canvas.addEventListener("webglcontextrestored",this._onContextRestored,!1)),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.setSize(window.innerWidth,window.innerHeight),this.scene=new r.Z58,this.camera=new r.qUd(-1,1,1,-1,0,1),this.composer=new o.s(this.renderer),this.composer.addPass(new a.A(this.scene,this.camera)),this.clock=new r.zD7,this.onResize=this.onResize.bind(this),this._render=this._render.bind(this),h.A.on("global:resize",this.onResize)},(e=[{key:"destroy",value:function(){h.A.off("global:resize",this.onResize)}},{key:"start",value:function(){this.isActive||this.contextLost||(this.isActive=!0,this.clock.start(),this._render())}},{key:"stop",value:function(){this.isActive=!1;try{this.clock.stop()}catch(t){}}},{key:"onResize",value:function(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.composer.setSize(window.innerWidth,window.innerHeight)}},{key:"_render",value:function(){this.isActive&&!this.contextLost&&(this.composer.render(this.clock.getDelta()),requestAnimationFrame(this._render))}},{key:"createTransition",value:function(){var t=this,e=new c.d;e.uniforms.damp.value=.96;var n=new l.S(.35,.025,648,!1),r=new s.p(u);return this.composer.addPass(e),this.composer.addPass(n),this.composer.addPass(r),{play:function(){return new Promise(function(i){t.start(),gsap.timeline({onComplete:function(){if(!t.contextLost)try{t.composer.removePass(e),t.composer.removePass(n),t.composer.removePass(r)}catch(t){console.warn("Failed to remove passes (context lost?):",t)}t.stop(),i()},onUpdate:function(){r.uniforms.time.value+=.05}}).to(r.uniforms.progress,{value:1,duration:.6,ease:"power2.in"}).to(r.uniforms.progress,{value:0,duration:.8,ease:"power3.out"},"+=0.1")})},halfway:new Promise(function(t){setTimeout(t,600)})}}}])&&v(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}()},712:(t,e,n)=>{function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.onLost,r=e.onRestored,i=t&&t.domElement?t.domElement:t;if(!i||!i.addEventListener)return function(){};var o=function(t){try{t.preventDefault()}catch(t){}if(console.warn("webglUtils: context lost on canvas",i),"function"==typeof n)try{n(t)}catch(t){console.warn(t)}},a=function(t){if(console.info("webglUtils: context restored on canvas",i),"function"==typeof r)try{r(t)}catch(t){console.warn(t)}};return i.addEventListener("webglcontextlost",o,!1),i.addEventListener("webglcontextrestored",a,!1),function(){try{i.removeEventListener("webglcontextlost",o)}catch(t){}try{i.removeEventListener("webglcontextrestored",a)}catch(t){}}}function i(t){t&&Array.isArray(t.passes)&&t.passes.forEach(function(t){try{t&&t.dispose&&t.dispose()}catch(t){}})}function o(t){try{t&&t.dispose&&t.dispose()}catch(t){}}n.r(e),n.d(e,{attachContextGuards:()=>r,safeDisposeComposer:()=>i,safeDisposeRenderer:()=>o})}}]);